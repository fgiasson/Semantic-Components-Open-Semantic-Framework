var prefLabelAttributes="http://purl.org/ontology/iron#prefLabel,http://www.w3.org/2004/02/skos/core#prefLabel,http://umbel.org/umbel#prefLabel,http://purl.org/dc/terms/title,http://purl.org/dc/elements/1.1/title,http://xmlns.com/foaf/0.1/name,http://xmlns.com/foaf/0.1/givenName,http://xmlns.com/foaf/0.1/family_name,http://www.geonames.org/ontology#name,http://www.w3.org/2000/01/rdf-schema#label".split(","),altLabelAttributes=["http://www.w3.org/2004/02/skos/core#altLabel","http://purl.org/ontology/iron#altLabel",
"http://umbel.org/umbel#altLabel"],descriptionAttributes=["http://purl.org/ontology/iron#description","http://www.w3.org/2000/01/rdf-schema#comment","http://purl.org/dc/terms/description","http://purl.org/dc/elements/1.1/description","http://www.w3.org/2004/02/skos/core#definition"],prefURLAttributes=["http://purl.org/ontology/iron#prefURL","http://purl.org/ontology/npi#url"];
function Resultset(a){this.prefixes=a.prefixes;var a=JSON.stringify(a),b;for(b in this.prefixes)this.prefixes.hasOwnProperty(b)&&(a=a.replace(RegExp(b+":","igm"),this.prefixes[b]));a=JSON.parse(a);this.subjects=a.resultset.subject;for(b=0;b<this.subjects.length;b++)this.subjects[b].prefixize=resultset_prefixize,this.subjects[b].unprefixize=resultset_unprefixize,this.subjects[b].getPredicateValues=subject_getPredicateValues,this.subjects[b].getValuePredicates=subject_getValuePredicates,this.subjects[b].getPrefURL=
subject_getPrefURL,this.subjects[b].getPrefLabel=subject_getPrefLabel,this.subjects[b].getPrefLabelTuple=subject_getPrefLabelTuple,this.subjects[b].getAltLabels=subject_getAltLabels,this.subjects[b].getAltLabelsTuple=subject_getAltLabelsTuple,this.subjects[b].getDescription=subject_getDescription,this.subjects[b].getDescriptionTuple=subject_getDescriptionTuple,this.subjects[b].getTypes=subject_getTypes,this.subjects[b].rename=subject_rename,this.subjects[b].setDescription=subject_setDescription,this.subjects[b].addAttributeValue=
subject_addAttributeValue,this.subjects[b].removePredicateValues=subject_removePredicateValues,this.subjects[b].removePredicateValue=subject_removePredicateValue,this.subjects[b].getDatasets=subject_getDatasets,"predicate"in this.subjects[b]||(this.subjects[b].predicate=[]);this.prefixize=resultset_prefixize;this.isPrefixed=resultset_isPrefixed;this.unprefixize=resultset_unprefixize;this.saveN3=resultset_saveN3;this.saveStructXML=resultset_saveStructXML;this.getSubjectsByPredicateObjectValue=resultset_getSubjectsByPredicateObjectValue;
this.getSubjectsByType=resultset_getSubjectsByType;this.getSubject=resultset_getSubject}Resultset.prototype.getSubjectByURI=function(a){for(var b=0;b<this.subjects.length;b++)if(a==this.subjects[b].uri)return this.subjects[b]};
function subject_getPredicateValues(a,b){var c=!1;void 0!=b&&(c=b);var d=[];if("predicate"in this)for(var e=0;e<this.predicate.length;e++){var f=this.predicate[e],g;for(g in f)if(this.prefixize(a)==g||a==g)"object"==typeof f[g]&&"value"in f[g]?c?d.push(f[g]):d.push(f[g].value):d.push(f[g])}return d}
function subject_getValuePredicates(a){var b=[];if("predicate"in this)for(var c=0;c<this.predicate.length;c++){var d=this.predicate[c],e;for(e in d)("object"==typeof d[e]&&"uri"in d[e]&&d[e].uri==a||d[e]==a)&&b.push(this.unprefixize(e))}return b}function resultset_prefixize(a){if("prefixes"in this&&null!=a)for(var b in this.prefixes)if(-1!=a.indexOf(this.prefixes[b]))return b+":"+a.substring(this.prefixes[b].length);return a}
function resultset_isPrefixed(a){if("prefixes"in this&&null!=a)for(var b in this.prefixes)if(-1!=a.indexOf(b+":"))return!0;return!1}function resultset_unprefixize(a){for(var b in this.prefixes)if(-1!=a.search(b+":"))return this.prefixes[b]+a.substring(b.length+1);return a}
function resultset_saveStructXML(){var a='<?xml version="1.0" encoding="utf-8"?><resultset>',b;for(b in this.prefixes)a+='<prefix entity="'+b+'" uri="'+this.prefixes[b]+'" />\n';a+="\n";for(b=0;b<this.subjects.length;b++){a+='<subject uri="'+this.subjects[b].uri+'" type="'+this.unprefixize(this.subjects[b].type)+'">\n';if("object"==typeof this.subjects[b]&&"predicate"in this.subjects[b])for(var c=0;c<this.subjects[b].predicate.length;c++)for(var d in this.subjects[b].predicate[c])a="object"==typeof this.subjects[b].predicate[c][d]&&
"uri"in this.subjects[b].predicate[c][d]?a+('<predicate type="'+d+'"><object uri="'+this.subjects[b].predicate[c][d].uri+'"/></predicate>'):a+('<predicate type="'+d+'"><object type="rdfs:Literal">'+xmlEncode(this.subjects[b].predicate[c][d])+"</object></predicate>");a+="</subject>"}return a+"</resultset>"}function xmlEncode(a){return a.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&apos;").replace(/\"/g,"&quot;")}
function resultset_saveN3(a){var b="";void 0!=a&&(b=a);n3="";for(var c in this.prefixes)n3+="@prefix "+c+": <"+this.prefixes[c]+"> .\n";n3+="\n";for(a=0;a<this.subjects.length;a++)if(!(""!=b&&this.subjects[a].uri!=b)){n3=this.isPrefixed(this.prefixize(this.subjects[a].type))?n3+("<"+this.subjects[a].uri+"> a "+this.prefixize(this.subjects[a].type)+" ;\n"):n3+("<"+this.subjects[a].uri+"> a <"+this.prefixize(this.subjects[a].type)+"> ;\n");if("object"==typeof this.subjects[a]&&"predicate"in this.subjects[a])for(c=
0;c<this.subjects[a].predicate.length;c++)for(var d in this.subjects[a].predicate[c])n3="object"==typeof this.subjects[a].predicate[c][d]&&"uri"in this.subjects[a].predicate[c][d]?this.isPrefixed(this.prefixize(d))?n3+("  "+this.prefixize(d)+" <"+this.subjects[a].predicate[c][d].uri+"> ;\n"):n3+("  <"+d+"> <"+this.subjects[a].predicate[c][d].uri+"> ;\n"):this.isPrefixed(this.prefixize(d))?"object"==typeof this.subjects[a].predicate[c][d]&&"value"in this.subjects[a].predicate[c][d]?n3+("  "+this.prefixize(d)+
' "'+escapeN3(this.subjects[a].predicate[c][d].value)+'" ;\n'):n3+("  "+this.prefixize(d)+' "'+escapeN3(this.subjects[a].predicate[c][d])+'" ;\n'):"object"==typeof this.subjects[a].predicate[c][d]&&"value"in this.subjects[a].predicate[c][d]?n3+("  <"+d+'> "'+escapeN3(this.subjects[a].predicate[c][d].value)+'" ;\n'):n3+("  <"+d+'> "'+escapeN3(this.subjects[a].predicate[c][d])+'" ;\n');n3=n3.substr(0,n3.length-2)+". \n"}return n3}function escapeN3(a){return a.replace(/"/g,'\\"')}
function subject_addAttributeValue(a,b){if("predicate"in this){var c={};c[this.prefixize(a)]=b;this.predicate.push(c)}}function subject_rename(a){if("predicate"in this)for(var b=0;b<this.predicate.length;b++){var c=this.predicate[b],d;for(d in c)for(var e=0;e<prefLabelAttributes.length;e++)if(prefLabelAttributes[e]==this.unprefixize(d)||prefLabelAttributes[e]==d){c[d]=a;return}}this.addAttributeValue("http://www.w3.org/2004/02/skos/core#prefLabel",a)}
function subject_setDescription(a){if("predicate"in this)for(var b=0;b<this.predicate.length;b++){var c=this.predicate[b],d;for(d in c)for(var e=0;e<descriptionAttributes.length;e++)if(descriptionAttributes[e]==this.unprefixize(d)||descriptionAttributes[e]==d){c[d]=a;return}}this.addAttributeValue("http://www.w3.org/2004/02/skos/core#description",a)}
function subject_getPrefLabel(){for(var a=[],b=0;b<prefLabelAttributes.length;b++){var c=this.getPredicateValues(prefLabelAttributes[b]);0<c.length&&a.push(c[0])}0>=a.length&&(-1!=this.uri.lastIndexOf("#")?a.push(this.uri.substring(this.uri.lastIndexOf("#")+1).replace(/([A-Z])/g," $1").replace(/^\s+|\s+$/g,"")):-1!=this.uri.lastIndexOf("/")&&a.push(this.uri.substring(this.uri.lastIndexOf("/")+1).replace(/([A-Z])/g," $1").replace(/^\s+|\s+$/g,"")));0>=a.length&&a.push(this.uri);return void 0!=a[0]?
a[0]:""}
function subject_getPrefLabelTuple(){for(var a=[],b=0;b<prefLabelAttributes.length;b++){var c=this.getPredicateValues(prefLabelAttributes[b]);0<c.length&&a.push({label:c[0],attr:prefLabelAttributes[b]})}0>=a.length&&(-1!=this.uri.lastIndexOf("#")?a.push({label:this.uri.substring(this.uri.lastIndexOf("#")+1).replace(/([A-Z])/g," $1").replace(/^\s+|\s+$/g,""),attr:"http://www.w3.org/2000/01/rdf-schema#label"}):-1!=this.uri.lastIndexOf("/")&&a.push({label:this.uri.substring(this.uri.lastIndexOf("/")+1).replace(/([A-Z])/g,
" $1").replace(/^\s+|\s+$/g,""),attr:"http://www.w3.org/2000/01/rdf-schema#label"}));0>=a.length&&a.push({label:this.uri,attr:"http://www.w3.org/2000/01/rdf-schema#label"});return a}function subject_getAltLabels(){altLabels=[];for(var a=0;a<altLabelAttributes.length;a++)for(var b=this.getPredicateValues(altLabelAttributes[a]),c=0;c<b.length;c++)altLabels.push({label:b[c],attr:altLabelAttributes[a]});return altLabels}
function subject_getAltLabelsTuple(){altLabels=[];for(var a=0;a<altLabelAttributes.length;a++)for(var b=this.getPredicateValues(altLabelAttributes[a]),c=0;c<b.length;c++)altLabels.push({label:b[c],attr:altLabelAttributes[a]});return altLabels}function subject_getDescription(){for(var a=[],b=0;b<descriptionAttributes.length;b++){var c=this.getPredicateValues(descriptionAttributes[b]);0<c.length&&a.push(c[0])}return void 0!=a[0]?a[0]:""}
function subject_getPrefURL(){for(var a=[],b=0;b<prefURLAttributes.length;b++){var c=this.getPredicateValues(prefURLAttributes[b]);0<c.length&&a.push(c[0])}return void 0!=a[0]?a[0]:""}function subject_getDescriptionTuple(){for(var a=[],b=0;b<descriptionAttributes.length;b++){var c=this.getPredicateValues(descriptionAttributes[b]);0<c.length&&a.push({description:c[0],attr:descriptionAttributes[b]})}return a}
function subject_getTypes(){for(var a=[this.unprefixize(this.type)],b=this.getPredicateValues("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),c=0;c<b.length;c++)a.push(this.unprefixize(b[c].uri));return a}function subject_removePredicateValues(a){if("predicate"in this)for(var b=this.predicate.length-1;0<=b;b--){var c=this.predicate[b],d;for(d in c)(a==this.unprefixize(d)||a==d)&&this.predicate.splice(b,1)}}
function subject_removePredicateValue(a,b){if("predicate"in this)for(var c=this.predicate.length-1;0<=c;c--){var d=this.predicate[c],e;for(e in d){var f="";"object"==typeof d[e]?"uri"in this&&(f=d[e].uri):f=d[e];(a==this.unprefixize(e)||a==e)&&f==b&&this.predicate.splice(c,1)}}}function subject_getDatasets(){for(var a=[],b=this.getPredicateValues("http://purl.org/dc/terms/isPartOf"),c=0;c<b.length;c++)a.push(b[c].uri);return a}
function resultset_getSubjectsByPredicateObjectValue(a,b,c){var d=[],e=[],e=void 0!=c&&null!=c&&0<c.length?c:this.subjects,f;for(f in e){var c=e[f],g=!1,h;for(h in c.predicate){for(var i in c.predicate[h])if(c.predicate[h][i].uri==b&&i==a){d.push(c);g=!0;break}if(g)break}}return d}function resultset_getSubjectsByType(a,b){for(var c=[],d=[],d=void 0!=b&&null!=b&&0<b.length?b:this.subjects,e=0;e<d.length;e++){var f=d[e];f.type==a&&c.push(f)}return c}
function resultset_getSubject(a){for(var b=0;b<this.subjects.length;b++){var c=this.subjects[b];if(c.uri==a)return c}return null};