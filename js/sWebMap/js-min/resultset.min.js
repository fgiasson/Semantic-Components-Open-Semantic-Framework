var prefLabelAttributes="http://purl.org/ontology/iron#prefLabel,http://www.w3.org/2004/02/skos/core#prefLabel,http://umbel.org/umbel#prefLabel,http://purl.org/dc/terms/title,http://purl.org/dc/elements/1.1/title,http://xmlns.com/foaf/0.1/name,http://xmlns.com/foaf/0.1/givenName,http://xmlns.com/foaf/0.1/family_name,http://www.geonames.org/ontology#name,http://www.w3.org/2000/01/rdf-schema#label".split(","),altLabelAttributes=["http://www.w3.org/2004/02/skos/core#altLabel","http://purl.org/ontology/iron#altLabel",
"http://umbel.org/umbel#altLabel"],descriptionAttributes=["http://purl.org/ontology/iron#description","http://www.w3.org/2000/01/rdf-schema#comment","http://purl.org/dc/terms/description","http://purl.org/dc/elements/1.1/description","http://www.w3.org/2004/02/skos/core#definition"],prefURLAttributes=["http://purl.org/ontology/iron#prefURL","http://purl.org/ontology/npi#url"];
function Resultset(b){this.prefixes=b.prefixes;var b=JSON.stringify(b),a;for(a in this.prefixes)this.prefixes.hasOwnProperty(a)&&(b=b.replace(RegExp(a+":","igm"),this.prefixes[a]));b=JSON.parse(b);this.subjects=b.resultset.subject;for(a=0;a<this.subjects.length;a++)this.subjects[a].prefixize=resultset_prefixize,this.subjects[a].unprefixize=resultset_unprefixize,this.subjects[a].getPredicateValues=subject_getPredicateValues,this.subjects[a].getValuePredicates=subject_getValuePredicates,this.subjects[a].getPrefURL=
subject_getPrefURL,this.subjects[a].getPrefLabel=subject_getPrefLabel,this.subjects[a].getPrefLabelTuple=subject_getPrefLabelTuple,this.subjects[a].getAltLabels=subject_getAltLabels,this.subjects[a].getAltLabelsTuple=subject_getAltLabelsTuple,this.subjects[a].getDescription=subject_getDescription,this.subjects[a].getDescriptionTuple=subject_getDescriptionTuple,this.subjects[a].getTypes=subject_getTypes,this.subjects[a].rename=subject_rename,this.subjects[a].addAttributeValue=subject_addAttributeValue,
this.subjects[a].removePredicateValues=subject_removePredicateValues,this.subjects[a].removePredicateValue=subject_removePredicateValue,this.subjects[a].getDatasets=subject_getDatasets,"predicate"in this.subjects[a]||(this.subjects[a].predicate=[]);this.prefixize=resultset_prefixize;this.isPrefixed=resultset_isPrefixed;this.unprefixize=resultset_unprefixize;this.saveN3=resultset_saveN3;this.saveStructXML=resultset_saveStructXML;this.getSubjectsByPredicateObjectValue=resultset_getSubjectsByPredicateObjectValue;
this.getSubjectsByType=resultset_getSubjectsByType;this.getSubject=resultset_getSubject}Resultset.prototype.getSubjectByURI=function(b){for(var a=0;a<this.subjects.length;a++)if(b==this.subjects[a].uri)return this.subjects[a]};
function subject_getPredicateValues(b,a){var c=!1;void 0!=a&&(c=a);var d=[];if("predicate"in this)for(var e=0;e<this.predicate.length;e++){var f=this.predicate[e],g;for(g in f)if(this.prefixize(b)==g||b==g)"object"==typeof f[g]&&"value"in f[g]?c?d.push(f[g]):d.push(f[g].value):d.push(f[g])}return d}
function subject_getValuePredicates(b){var a=[];if("predicate"in this)for(var c=0;c<this.predicate.length;c++){var d=this.predicate[c],e;for(e in d)("object"==typeof d[e]&&"uri"in d[e]&&d[e].uri==b||d[e]==b)&&a.push(this.unprefixize(e))}return a}function resultset_prefixize(b){if("prefixes"in this&&null!=b)for(var a in this.prefixes)if(-1!=b.indexOf(this.prefixes[a]))return a+":"+b.substring(this.prefixes[a].length);return b}
function resultset_isPrefixed(b){if("prefixes"in this&&null!=b)for(var a in this.prefixes)if(-1!=b.indexOf(a+":"))return!0;return!1}function resultset_unprefixize(b){for(var a in this.prefixes)if(-1!=b.search(a+":"))return this.prefixes[a]+b.substring(a.length+1);return b}
function resultset_saveStructXML(){var b='<?xml version="1.0" encoding="utf-8"?><resultset>',a;for(a in this.prefixes)b+='<prefix entity="'+a+'" uri="'+this.prefixes[a]+'" />\n';b+="\n";for(a=0;a<this.subjects.length;a++){b+='<subject uri="'+this.subjects[a].uri+'" type="'+this.unprefixize(this.subjects[a].type)+'">\n';if("object"==typeof this.subjects[a]&&"predicate"in this.subjects[a])for(var c=0;c<this.subjects[a].predicate.length;c++)for(var d in this.subjects[a].predicate[c])b="object"==typeof this.subjects[a].predicate[c][d]&&
"uri"in this.subjects[a].predicate[c][d]?b+('<predicate type="'+d+'"><object uri="'+this.subjects[a].predicate[c][d].uri+'"/></predicate>'):b+('<predicate type="'+d+'"><object type="rdfs:Literal">'+xmlEncode(this.subjects[a].predicate[c][d])+"</object></predicate>");b+="</subject>"}return b+"</resultset>"}function xmlEncode(b){return b.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&apos;").replace(/\"/g,"&quot;")}
function resultset_saveN3(){n3="";for(var b in this.prefixes)n3+="@prefix "+b+": <"+this.prefixes[b]+"> .\n";n3+="\n";for(b=0;b<this.subjects.length;b++){n3=this.isPrefixed(this.prefixize(this.subjects[b].type))?n3+("<"+this.subjects[b].uri+"> a "+this.prefixize(this.subjects[b].type)+" ;\n"):n3+("<"+this.subjects[b].uri+"> a <"+this.prefixize(this.subjects[b].type)+"> ;\n");if("object"==typeof this.subjects[b]&&"predicate"in this.subjects[b])for(var a=0;a<this.subjects[b].predicate.length;a++)for(var c in this.subjects[b].predicate[a])n3=
"object"==typeof this.subjects[b].predicate[a][c]&&"uri"in this.subjects[b].predicate[a][c]?this.isPrefixed(this.prefixize(c))?n3+("  "+this.prefixize(c)+" <"+this.subjects[b].predicate[a][c].uri+"> ;\n"):n3+("  <"+c+"> <"+this.subjects[b].predicate[a][c].uri+"> ;\n"):this.isPrefixed(this.prefixize(c))?"object"==typeof this.subjects[b].predicate[a][c]&&"value"in this.subjects[b].predicate[a][c]?n3+("  "+this.prefixize(c)+' "'+escapeN3(this.subjects[b].predicate[a][c].value)+'" ;\n'):n3+("  "+this.prefixize(c)+
' "'+escapeN3(this.subjects[b].predicate[a][c])+'" ;\n'):"object"==typeof this.subjects[b].predicate[a][c]&&"value"in this.subjects[b].predicate[a][c]?n3+("  <"+c+'> "'+escapeN3(this.subjects[b].predicate[a][c].value)+'" ;\n'):n3+("  <"+c+'> "'+escapeN3(this.subjects[b].predicate[a][c])+'" ;\n');n3=n3.substr(0,n3.length-2)+". \n"}return n3}function escapeN3(b){return b.replace('"','\\"')}
function subject_addAttributeValue(b,a){if("predicate"in this){var c={};c[this.prefixize(b)]=a;this.predicate.push(c)}}function subject_rename(b){if("predicate"in this)for(var a=0;a<this.predicate.length;a++){var c=this.predicate[a],d;for(d in c)for(var e=0;e<prefLabelAttributes.length;e++)if(prefLabelAttributes[e]==this.unprefixize(d)||prefLabelAttributes[e]==d){c[d]=b;return}}this.addAttributeValue("http://www.w3.org/2004/02/skos/core#prefLabel",b)}
function subject_getPrefLabel(){for(var b=[],a=0;a<prefLabelAttributes.length;a++){var c=this.getPredicateValues(prefLabelAttributes[a]);0<c.length&&b.push(c[0])}0>=b.length&&(-1!=this.uri.lastIndexOf("#")?b.push(this.uri.substring(this.uri.lastIndexOf("#")+1).replace(/([A-Z])/g," $1").replace(/^\s+|\s+$/g,"")):-1!=this.uri.lastIndexOf("/")&&b.push(this.uri.substring(this.uri.lastIndexOf("/")+1).replace(/([A-Z])/g," $1").replace(/^\s+|\s+$/g,"")));0>=b.length&&b.push(this.uri);return void 0!=b[0]?
b[0]:""}
function subject_getPrefLabelTuple(){for(var b=[],a=0;a<prefLabelAttributes.length;a++){var c=this.getPredicateValues(prefLabelAttributes[a]);0<c.length&&b.push({label:c[0],attr:prefLabelAttributes[a]})}0>=b.length&&(-1!=this.uri.lastIndexOf("#")?b.push({label:this.uri.substring(this.uri.lastIndexOf("#")+1).replace(/([A-Z])/g," $1").replace(/^\s+|\s+$/g,""),attr:"http://www.w3.org/2000/01/rdf-schema#label"}):-1!=this.uri.lastIndexOf("/")&&b.push({label:this.uri.substring(this.uri.lastIndexOf("/")+1).replace(/([A-Z])/g,
" $1").replace(/^\s+|\s+$/g,""),attr:"http://www.w3.org/2000/01/rdf-schema#label"}));0>=b.length&&b.push({label:this.uri,attr:"http://www.w3.org/2000/01/rdf-schema#label"});return b}function subject_getAltLabels(){altLabels=[];for(var b=0;b<altLabelAttributes.length;b++)for(var a=this.getPredicateValues(altLabelAttributes[b]),c=0;c<a.length;c++)altLabels.push({label:a[c],attr:altLabelAttributes[b]});return altLabels}
function subject_getAltLabelsTuple(){altLabels=[];for(var b=0;b<altLabelAttributes.length;b++)for(var a=this.getPredicateValues(altLabelAttributes[b]),c=0;c<a.length;c++)altLabels.push({label:a[c],attr:altLabelAttributes[b]});return altLabels}function subject_getDescription(){for(var b=[],a=0;a<descriptionAttributes.length;a++){var c=this.getPredicateValues(descriptionAttributes[a]);0<c.length&&b.push(c[0])}return void 0!=b[0]?b[0]:""}
function subject_getPrefURL(){for(var b=[],a=0;a<prefURLAttributes.length;a++){var c=this.getPredicateValues(prefURLAttributes[a]);0<c.length&&b.push(c[0])}return void 0!=b[0]?b[0]:""}function subject_getDescriptionTuple(){for(var b=[],a=0;a<descriptionAttributes.length;a++){var c=this.getPredicateValues(descriptionAttributes[a]);0<c.length&&b.push({description:c[0],attr:descriptionAttributes[a]})}return b}
function subject_getTypes(){for(var b=[this.unprefixize(this.type)],a=this.getPredicateValues("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),c=0;c<a.length;c++)b.push(this.unprefixize(a[c].uri));return b}function subject_removePredicateValues(b){if("predicate"in this)for(var a=this.predicate.length-1;0<=a;a--){var c=this.predicate[a],d;for(d in c)(b==this.unprefixize(d)||b==d)&&this.predicate.splice(a,1)}}
function subject_removePredicateValue(b,a){if("predicate"in this)for(var c=this.predicate.length-1;0<=c;c--){var d=this.predicate[c],e;for(e in d){var f="";"object"==typeof d[e]?"uri"in this&&(f=d[e].uri):f=d[e];(b==this.unprefixize(e)||b==e)&&f==a&&this.predicate.splice(c,1)}}}function subject_getDatasets(){for(var b=[],a=this.getPredicateValues("http://purl.org/dc/terms/isPartOf"),c=0;c<a.length;c++)b.push(a[c].uri);return b}
function resultset_getSubjectsByPredicateObjectValue(b,a,c){var d=[],e=[],e=void 0!=c&&null!=c&&0<c.length?c:this.subjects,f;for(f in e){var c=e[f],g=!1,h;for(h in c.predicate){for(var i in c.predicate[h])if(c.predicate[h][i].uri==a&&i==b){d.push(c);g=!0;break}if(g)break}}return d}function resultset_getSubjectsByType(b,a){for(var c=[],d=[],d=void 0!=a&&null!=a&&0<a.length?a:this.subjects,e=0;e<d.length;e++){var f=d[e];f.type==b&&c.push(f)}return c}
function resultset_getSubject(b){for(var a=0;a<this.subjects.length;a++){var c=this.subjects[a];if(c.uri==b)return c}return null};